
# Esercizio 2

L'idea è quella di costruire un vettore ausiliario, partendo dall'originale, in tempo $O(n)$
Il vettore ausiliario sarè costruito in questo modo:
```python
b = [0]*n
b[0]=a[0]
for i in range(1,n):
    b[i] = b[i-1]+a[i]
```

In questo modo otterrò un vettore ordinato, dove posso andare ad eseguire una RIcercaBinaria, che in tempo $O(log(n))$ mi trova l'indice k richiesto dall'esercizio.


Il codice della creazione dell'oracolo è questo:
```python
def creaoracolo(a):
    n=len(a)
    if n==1:
        return 1
    b = [0]*n
    b[0]=a[0]

    for i in range(1,n):
        b[i] = b[i-1]+a[i]

    indice = InterrogaOracolo(b,2)
    return indice
```

Mentre la funzione InterrogaOracolo è questa:
```python
def InterrogaOracolo(a,k):# deve rispondere in tempo log n
    n=len(a)
    lx, rx = 0, n-1
    a[0] = k*a[0]
    sx,dx = 0,0
    cx = (lx + rx)//2
    # devo avere che la somma degli elementi a[1:k]>=a[k+1:n]
    while lx<=rx:
        sx = BinSearchLEQ(a,a[cx])
        dx = BinSearchGT(a,a[cx])
        if sx == dx:
            return cx+1
        elif sx>dx:
            cx-=1
            rx = cx
        else:
            cx+=1
            lx=cx
    return cx+1
```

Le funzioni ausiliarie che ho usato, ovvero BinSearchLEQ e BinSearchGT, sono funzioni che in tempo logaritmico mi trovano la somma dei valori compresi tra $A[1:m]$ e $A[m+1:n]$ ($m$ non è altro che il valore posto esattamente al centro dell'array, quello che nel codice è segnato come $cx=\frac{(rx+lx)}{2}$)

Il costo dell'algoritmo InterrogaOracolo dovrebbe essere $O(log(n))$ 